<!DOCTYPE html>
<html>
  <head>
    <title>Castlevania: Symphony of the Night Randomizer</title>
    <link rel="stylesheet"
          href="https://unpkg.com/purecss@1.0.0/build/pure-min.css">
    <link rel="stylesheet"
          href="https://unpkg.com/purecss@1.0.0/build/grids-responsive-min.css">
    <link rel="stylesheet"
          href="https://d1azc1qln24ryf.cloudfront.net/114779/Socicon/style-cf.css?u8vidh">
    <link rel="stylesheet" href="index.css">
  </head>
  <body>
    <div id="version"></div>
    <div id="content">
      <h1>Castlevania: Symphony of the Night Randomizer</h1>
      <div>
        by Wild Mouse
        <a class="contact" href="https://twitter.com/3snow_p7im"><img height="16" width="16" src="https://cdn.jsdelivr.net/npm/simple-icons@latest/icons/twitter.svg"></a>
        <a class="contact" href="https://twitch.tv/3snow_p7im"><img height="16" width="16" src="https://cdn.jsdelivr.net/npm/simple-icons@latest/icons/twitch.svg"></a>
      </div>
      <form id="form" class="pure-g">
        <div id="target" class="pure-u-1">
          <span id="status"></span>
          <input id="file" type="file" accept=".bin,.iso">
        </div>
        <div class="pure-u-14-24">
          <fieldset>
            <legend>Randomizations</legend>
            <div class="pure-g">
              <div class="pure-u-12-24">
                <label for="seed">Seed:</label>
              </div>
              <div class="pure-u-12-24">
                <input id="seed" type="text" placeholder="Optional">
              </div>
              <div class="pure-u-12-24">
                <input id="preset" type="checkbox">
                <label for="preset">Preset</label>
              </div>
              <div id="preset-select" class="pure-u-12-24">
                <select id="preset-id"></select>
                <span class="tooltip-wrapper">
                  <span class="tooltip-indicator">?</span>
                  <span class="tooltip hidden">
                    <span>
                      <span id="preset-description"></span>
                      <span id="preset-author"></span>
                    </span>
                  </span>
                </span>
              </div>
              <fieldset id="options" class="hidden">
                <div class="pure-g">
                  <div class="pure-u-12-24">
                    <label for="complexity">Complexity</label>
                  </div>
                  <div class="pure-u-12-24">
                    <input id="complexity" type="number" min="1">
                    <span class="tooltip-wrapper">
                      <span class="tooltip-indicator">?</span>
                      <span class="tooltip hidden">
                        <span>
                          Lower complexities generate faster but may be easier
                          to beat.
                        </span>
                      </span>
                    </span>
                  </div>
                  <div class="pure-u-12-24">
                    <input id="enemy-drops" type="checkbox">
                    <label for="enemy-drops">Enemy drops</label>
                  </div>
                  <div class="pure-u-12-24">
                    <input id="starting-equipment" type="checkbox">
                    <label for="starting-equipment">Starting equipment</label>
                  </div>
                  <div class="pure-u-12-24">
                    <input id="item-locations" type="checkbox">
                    <label for="item-locations">Item locations</label>
                  </div>
                  <div class="pure-u-12-24">
                    <input id="prologue-rewards" type="checkbox">
                    <label for="prologue-rewards">Prologue rewards</label>
                  </div>
                  <div class="pure-u-12-24">
                    <input id="music" type="checkbox">
                    <label for="music">Music</label>
                  </div>
                  <div class="pure-u-12-24">
                    <input id="turkey-mode" type="checkbox">
                    <label for="turkey-mode">Turkey mode</label>
                  </div>
                  <div class="pure-u-12-24">
                    <fieldset id="relic-locations-set">
                      <legend>
                        <input id="relic-locations" type="checkbox">
                        <label for="relic-locations">Relic locations</label>
                      </legend>
                      <div>
                        <input id="extension-guarded"
                               name="extension"
                               type="radio"
                               value="guarded">
                        <label for="extension-guarded">
                          Guarded
                          <span class="tooltip-wrapper">
                            <span class="tooltip-indicator">?</span>
                            <span class="tooltip hidden">
                              <span>
                                Relics and progression items may appear in
                                rooms guarded by bosses.
                              </span>
                            </span>
                          </span>
                        </label>
                      </div>
                      <div>
                        <input id="extension-equipment"
                               name="extension"
                               type="radio"
                               value="classic">
                        <label for="extension-equipment">
                          Equipment
                          <span class="tooltip-wrapper">
                            <span class="tooltip-indicator">?</span>
                            <span class="tooltip hidden">
                              <span>
                                Relics and progression items may appear in
                                place of equipment tiles.
                              </span>
                            </span>
                          </span>
                        </label>
                      </div>
                      <div>
                        <input id="extension-classic"
                               name="extension"
                               type="radio"
                               value="classic">
                        <label for="extension-classic">
                          Classic
                          <span class="tooltip-wrapper">
                            <span class="tooltip-indicator">?</span>
                            <span class="tooltip hidden">
                              <span>
                                Relics and progression items will only be
                                randomized among the game's original relic
                                and progression item locations.
                              </span>
                            </span>
                          </span>
                        </label>
                      </div>
                    </fieldset>
                  </div>
                  <input id="enemy-drops-arg"
                         type="text"
                         disabled="disabled"
                         style="display: none">
                  <input id="starting-equipment-arg"
                         type="text"
                         disabled="disabled"
                         style="display: none">
                  <input id="item-locations-arg"
                         type="text"
                         disabled="disabled"
                         style="display: none">
                  <input id="prologue-rewards-arg"
                         type="text"
                         disabled="disabled"
                         style="display: none">
                  <input id="relic-locations-arg"
                         type="text"
                         disabled="disabled"
                         style="display: none">
                </div>
              </fieldset>
              <div class="pure-u-1">
                <input id="clear"
                       type="submit"
                       class="pure-button hidden"
                       value="Clear">
              </div>
            </div>
          </fieldset>
          <fieldset>
            <legend>Options</legend>
            <div class="pure-g">
              <div class="pure-u-12-24">
                <label for="theme">Theme</label>
              </div>
              <div class="pure-u-12-24">
                <select id="theme" type="checkbox">
                  <option value="menu">Menu</option>
                  <option value="light">Light</option>
                  <option value="dark">Dark</option>
                </select>
              </div>
              <div class="pure-u-1">
                <input id="append-seed" type="checkbox">
                <label for="append-seed">Append seed to filename</label>
              </div>
              <div class="pure-u-1">
                <input id="show-spoilers" type="checkbox">
                <label for="show-spoilers">Show spoilers</label>
              </div>
              <div class="pure-u-1">
                <input id="show-relics" type="checkbox">
                <label for="show-relics">Show relic locations</label>
              </div>
              <div class="pure-u-1">
                <input id="show-solutions" type="checkbox">
                <label for="show-solutions">Show solutions</label>
              </div>
            </div>
          </fieldset>
        </div>
        <div class="pure-u-10-24">
          <div id="spoilers-container" class="hide" style="display: none">
            <textarea id="spoilers" rows="8" cols="32"></textarea>
          </div>
        </div>
        <p id="buttons" class="pure-u-1">
          <input id="randomize"
                 type="submit"
                 class="primary"
                 disabled="disabled"
                 value="Randomize">
          <input id="copy"
                 type="submit"
                 disabled="disabled"
                 value="Copy seed">
        </p>
        <a id="download" style="display:none"></a>
        <div id="loader"></div>
      </form>
      <div id="notification"><span>Copied to clipboard<span></div>
      <hr>
      <h2><a name="help">Help</a></h2>
      <h4><a name="usage">Usage</a></h4>
      <p>
        This randomizer targets the original NTSC-U release of
        <a href="http://redump.org/disc/3379/"><i>Castlevania: Symphony of the
            Night</i> (SLUS-00067)</a>. You will need an image of your game
        disc in BIN/CUE format. If your disc image is split across two .bin
        files, drag only the first .bin file (track 1) into the drop zone.
      </p>
      <p>
        If the seed name is appended to your randomized image filename after
        downloading, you will need to modify your cue file track listing to
        reference the new filename.
      </p>
      <p>Read the <a href="/faq">FAQ</a> for more.</p>
      <h4><a name="cli">Command line interface</a></h4>
      <p>
        See the
        <a href="https://github.com/3snowp7im/SotN-Randomizer#cli">github
          repository</a> for information on running the randomizer at the
        command line.
      </p>
      <hr>
      <h2><a name="links">Links</a></h2>
      <ul>
        <li><a href="/faq">FAQ</a></li>
        <li><a href="https://github.com/TalicZealot/SotN-Relic-Tracker">Relic Tracker [Lua version]</a> (thanks TalicZealot)</li>
        <li><a href="relics">Relic distribution table</a> (thanks Soba)</li>
        <li><a href="https://discord.gg/wGMdDRG">The Long Library</a>, a SotN
          discord server with a dedicated <code>#randomizer</code> channel</li>
      </ul>
      <hr>
      <h2><a name="bugs">Bugs</a></h2>
      <p>
        Think you found a bug? The best way to report it is using <a href="https://github.com/3snowp7im/SotN-Randomizer/issues/new/choose">GitHub issues</a>.
      </p>
      <hr>
      <h2><a name="changelog">Changelog</a></h2>
      <h3><time>August 11, 2020</time></h3>
      <ul>
        <li>Add Scavenger preset.</li>
      </ul>
      <h3><time>August 7, 2020</time></h3>
      <ul>
        <li>Make Leap Stone a 0-relic check in Speedrun preset.</li>
      </ul>
      <h3><time>July 27, 2020</time></h3>
      <ul>
        <li>Add music randomizer.</li>
      </ul>
      <h3><time>July 10, 2020</time></h3>
      <ul>
        <li>Fix escape requirements not being honored when a location is empty.</li>
      </ul>
      <h3><time>June 22, 2020</time></h3>
      <ul>
        <li>Add Jewel of Open + Soul of Wolf + Leap Stone as Gold Ring location lock for Speedrun preset.</li>
      </ul>
      <h3><time>June 3, 2020</time></h3>
      <ul>
        <li>Fix duped progression item in Cave.</li>
      </ul>
      <h3><time>Map 26, 2020</time></h3>
      <ul>
        <li>Add Forbidden Library Opal location to Adventure preset.</li>
      </ul>
      <h3><time>April 30, 2020</time></h3>
      <ul>
        <li>Add Pixie singing "Nocturne" when sitting in a chair.</li>
      </ul>
      <h3><time>April 25, 2020</time></h3>
      <ul>
        <li>Increase worker performance.</li>
        <li>Add <a href="/faq">FAQ</a>.</li>
      </ul>
      <h3><time>April 21, 2020</time></h3>
      <ul>
        <li>Add Jewel of Open + Soul of Wolf + Skill of Wolf to Gold Ring
          location locks in Speedrun preset.</li>
        <li>Fix missing cape color layer.</li>
      </ul>
      <h3><time>April 17, 2020</time></h3>
      <ul>
        <li>Add solutions to spoiler log.</li>
        <li>Increase minimum complexities.</li>
      </ul>
      <h3><time>April 12, 2020</time></h3>
      <ul>
        <li>Prevent generation of seeds that softlock at Holy Glasses.</li>
        <li>Show preset ID at file select menu.</li>
        <li>Increase minimum complexities.</li>
      </ul>
      <h3><time>April 10, 2020</time></h3>
      <ul>
        <li>Add "Menu" theme.</li>
      </ul>
      <h3><time>April 8, 2020</time></h3>
      <ul>
        <li>Add multithreaded seed generation strategy.</li>
      </ul>
      <h3><time>April 5, 2020</time></h3>
      <ul>
        <li>Add Sprite and Nosedevil familiars in Guarded and Equipment
          extensions.</li>
      </ul>
      <h3><time>April 3, 2020</time></h3>
      <ul>
        <li>Add Speedrun preset.</li>
        <li>Randomize all cape colors.</li>
        <li>Fix erasing Ring of Vlad location.</li>
      </ul>
      <h3><time>April 2, 2020</time></h3>
      <ul>
        <li>Add Adventure preset.</li>
        <li>Add Empty hand preset.</li>
        <li>Add night mode.</li>
      </ul>
      <h3><time>March 31, 2020</time></h3>
      <ul>
        <li>Fix exception when replacing Holy Glasses with relic.</li>
      </ul>
      <h3><time>March 30, 2020</time></h3>
      <ul>
        <li>Fix gold ring duping.</li>
      </ul>
      <h3><time>March 29, 2020</time></h3>
      <ul>
        <li>Fix progression item duping at relic bosses.</li>
        <li>Fix missing progression item at Scylla.</li>
      </ul>
      <h3><time>March 28, 2020</time></h3>
      <ul>
        <li>Fix information leak of progression item randomization.</li>
        <li>Fix progression item randomization in Outer Wall.</li>
      </ul>
      <h3><time>March 27, 2020</time></h3>
      <ul>
        <li>Add progression item randomization.</li>
        <li>Fix icons of equipment stolen by Death.</li>
      </ul>
      <a id="show-older" href="#older">Show older changes</a>
      <div id="older" class="hidden">
        <h3><time>March 17, 2020</time></h3>
        <ul>
          <li>Fix disappearing items.</li>
        </ul>
        <h3><time>March 15, 2020</time></h3>
        <ul>
          <li>Fix duping item that replaces Cube of Zoe.</li>
        </ul>
        <h3><time>March 13, 2020</time></h3>
        <ul>
          <li>Fix relic placement in miscellaneous presets.</li>
          <li>Fix missing replacement item at Soul of Bat.</li>
          <li>Add extra agony to agonize preset.</li>
        </ul>
        <h3><time>March 12, 2020</time></h3>
        <ul>
          <li>Add relic locations extension with new Guarded option.</li>
          <li>Fix softlock in Lesser Demon fight.</li>
        </ul>
        <h3><time>March 4, 2020</time></h3>
        <ul>
          <li>Add Joseph's Cloak color randomization to Turkey Mode.</li>
        </ul>
        <h3><time>February 27, 2020</time></h3>
        <ul>
          <li>Fix relic duping when performing glitches.</li>
        </ul>
        <h3><time>February 5, 2020</time></h3>
        <ul>
          <li>Update links section.</li>
        </ul>
        <h3><time>October 26, 2019</time></h3>
        <ul>
          <li>"The Manly Update": Add Jewel + Power + Wolf to locks on Demon
            Card location.</li>
          <li>Add extra agony to agonize preset.</li>
        </ul>
        <h3><time>October 1, 2019</time></h3>
        <ul>
          <li>Fix some candles not being randomized.</li>
          <li>Add extra agony to agonize preset.</li>
        </ul>
        <h3><time>August 15, 2019</time></h3>
        <ul>
          <li>Fix crash related to transfering data to web worker.</li>
        </ul>
        <h3><time>August 11, 2019</time></h3>
        <ul>
          <li>Fix uncurse being placed in random candles.</li>
          <li>Add support for custom enemy drops from enemies that have no
            vanilla drops.</li>
        </ul>
        <h3><time>May 23, 2019</time></h3>
        <ul>
          <li>Add support for custom enemy drops, starting equipment, item
            locations, and prologue rewards.</li>
          <li>Deprecate relic logic selector in favor of <a href="https://github.com/3snowp7im/SotN-Randomizer#presets">presets</a>.</li>
        </ul>
        <h3><time>May 11, 2019</time></h3>
        <ul>
          <li>Add selector for built-in relic logic schemes.</li>
        </ul>
        <h3><time>May 8, 2019</time></h3>
        <ul>
          <li>Add support for custom relic logic.</li>
        </ul>
        <h3><time>May 3, 2019</time></h3>
        <ul>
          <li>Add file input as alternative to drag API.</li>
        </ul>
        <h3><time>April 30, 2019</time></h3>
        <ul>
          <li>Use web worker.</li>
        </ul>
        <h3><time>April 28, 2019</time></h3>
        <ul>
          <li>Add drop randomization.</li>
        </ul>
        <h3><time>April 23, 2019</time></h3>
        <ul>
          <li>Add checksum verification.</li>
        </ul>
        <h3><time>April 22, 2019</time></h3>
        <ul>
          <li>Add turkey mode.</li>
        </ul>
        <h3><time>April 20, 2019</time></h3>
        <ul>
          <li>Add candle randomization.</li>
          <li>Add prologue reward item randomization.</li>
          <li>Add Axe Lord and Luck Mode starting equipment randomization.</li>
          <li>Add copy seed button.</li>
        </ul>
        <h3><time>April 15, 2019</time></h3>
        <ul>
          <li>Add link to the <a href="https://testrunnersrl.github.io/sotn-tracker/">relic tracker</a> (thanks TestRunner)</li>
        </ul>
        <h3><time>April 15, 2019</time></h3>
        <ul>
          <li>Display seed at file select menu.</li>
          <li>Distribute jewel types with same frequency as vanilla.</li>
        </ul>
        <h3><time>April 14, 2019</time></h3>
        <ul>
          <li>Add option to show relic locations in spoilers.</li>
        </ul>
        <h3><time>April 13, 2019</time></h3>
        <ul>
          <li>Fix Maria cutscene skip in Richter mode.</li>
        </ul>
        <h3><time>April 11, 2019</time></h3>
        <ul>
          <li>Remove Maria cutscene in Marble Gallery to avoid confusion.</li>
          <li>Add spoilers option.</li>
        </ul>
        <h3><time>April 8, 2019</time></h3>
        <ul>
          <li>Fix bug that allowed salable gems to be sold in shop menu.</li>
          <li>Items are now placed by type with same frequency as vanilla.</li>
        </ul>
        <h3><time>April 7, 2019</time></h3>
        <ul>
          <li>Add item location randomization.</li>
        </ul>
        <h3><time>April 5, 2019</time></h3>
        <ul>
          <li>Add <a href="relics">relic distribution</a>
            (thx Soba)</li>
          <li>Fix relic duping in Medusa room.</li>
          <li>Fix shop relic name not being updated in shop menu.</li>
          <li>Produce more uniform relic distribution (thx Soba).</li>
        </ul>
        <h3><time>April 4, 2019</time></h3>
        <ul>
          <li>Remove Maria cutscene in Alchemy Lab to avoid softlock.</li>
          <li>Fix 2nd castle relic locations (thx Soba).</li>
          <li>Fix randomized equipment by same type.</li>
        </ul>
        <h3><time>April 3, 2019</time></h3>
        <ul>
          <li>Fix random seed not being reproducible.</li>
          <li>Fix crash after Scylla fight.</li>
          <li>Fix faerie scroll duping.</li>
          <li>Fix same seed causes different randomizations.</li>
        </ul>
        <h3><time>April 2, 2019</time></h3>
        <ul>
          <li>Fix equipment randomization.</li>
          <li>
            Fix bug that allowed bat relic to be placed in 2nd castle without
            ability to get spike breaker armor.
          </li>
          <li>Download file name contains seed value.</li>
        </ul>
        <h3><time>April 1, 2019</time></h3>
        <ul>
          <li>Fix shop relic glitch.</li>
          <li>Fix relic duping in clock tower and outer wall.</li>
        </ul>
        <h3><time>March 31, 2019</time></h3>
        <ul>
          <li>Add equipment location randomization.</li>
        </ul>
        <h3><time>March 28, 2019</time></h3>
        <ul>
          <li>Add starting equipment randomization.</li>
        </ul>
        <h3><time>March 27, 2019</time></h3>
        <ul>
          <li>Ported setz's <a href="https://github.com/josephstevenspgh/SotN-Relic-Randomizer">relic randomizer</a> to javascript.</li>
        </ul>
      </div>
    </div>
    <div id="dev-border"></div>
    <a id="fork" href="https://github.com/3snowp7im/SotN-Randomizer"><img width="149" height="149" src="https://github.blog/wp-content/uploads/2008/12/forkme_left_darkblue_121621.png?resize=149%2C149" class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.1/seedrandom.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sjcl/1.0.8/sjcl.min.js"></script>
    <script src="constants.js"></script>
    <script src="enemies.js"></script>
    <script src="errors.js"></script>
    <script src="extension.js"></script>
    <script src="items.js"></script>
    <script src="relics.js"></script>
    <script src="util.js"></script>
    <script src="randomize_relics.js"></script>
    <script src="randomize_items.js"></script>
    <script src="randomize_music.js"></script>
    <script src="build/presets/casual.js"></script>
    <script src="build/presets/safe.js"></script>
    <script src="build/presets/adventure.js"></script>
    <script src="build/presets/speedrun.js"></script>
    <script src="build/presets/glitch.js"></script>
    <script src="build/presets/scavenger.js"></script>
    <script src="build/presets/empty-hand.js"></script>
    <script src="build/presets/index.js"></script>
    <script src="worker.js"></script>
    <script src="browser.js"></script>
  </body>
</html>
